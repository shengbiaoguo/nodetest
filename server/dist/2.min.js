webpackJsonp([2],{635:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{red_envelope:e.red_envelope}}function c(e){return(0,p.bindActionCreators)(v,e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),f=r(l),p=n(43),d=n(54),m=n(76),h=r(m),y=n(874),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),_=n(674),b=r(_),g=n(688),E=r(g),w=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={country_code:"86",phone_number:"",format_error:!1,begin_time:"2018-01-15 20:00",duration_seconds:null,duration_minutes:null,duration_hours:null,duration_days:null,campagain_closed:!1,is_collecting:!1,share_code:null,sharer_name:null},e._formFieldUpdate=e._formFieldUpdate.bind(e),e}return i(t,e),u(t,[{key:"componentDidMount",value:function(){var e=E.default.parse(this.props.location.search);this.setState({share_code:e.code,sharer_name:e.sharer}),(0,h.default)()<(0,h.default)(this.state.begin_time)&&(this._calculateTime(),setInterval(function(){this._calculateTime()}.bind(this),1e3)),e&&e.code&&e.sharer&&this.setState({extend_code:e.code,sharerName:e.sharer})}},{key:"_calculateTime",value:function(){var e=h.default.duration((0,h.default)(this.state.begin_time)-(0,h.default)());this.setState({duration_seconds:e.seconds(),duration_minutes:e.minutes(),duration_hours:e.hours(),duration_days:e.days()})}},{key:"_formFieldUpdate",value:function(e){var t={};t[e.target.name]=e.target.value,this.setState(t)}},{key:"_collectCoupon",value:function(){if(this.state.phone_number.length>15||this.state.phone_number.length<8)this.setState({format_error:!0});else{this.setState({is_collecting:!0,format_error:!1});var e="+"+this.state.country_code+" "+this.state.phone_number;this.props.collectCouponWithPhoneNumber(e,this.state.share_code)}}},{key:"render",value:function(){var e=this;return f.default.createElement("div",{className:"page page-new-year"},f.default.createElement("div",{className:"head-image"}),this.state.campagain_closed&&f.default.createElement("div",{className:"main-section count-down breath-top"},f.default.createElement("div",{className:"box"},f.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-red-envelope.png"}),f.default.createElement("div",{className:"box-content coupon"},f.default.createElement("p",{className:"title"},"春节红包现金返现活动已结束"),f.default.createElement("p",{className:"value"},"下载2ccm app，关注2ccm微博，微信公众号，第一时间",f.default.createElement("br",null),"获取最新的优惠信息和活动")),f.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))),!this.state.campagain_closed&&(0,h.default)()<(0,h.default)(this.state.begin_time)&&f.default.createElement("div",{className:"main-section count-down breath-top"},f.default.createElement("div",{className:"box"},f.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-red-envelope.png"}),f.default.createElement("div",{className:"box-content coupon"},f.default.createElement("p",{className:"title"},"距离活动开始还有:"),f.default.createElement("p",{className:"value"},this.state.duration_days,"天 ",this.state.duration_hours,"小时 ",this.state.duration_minutes,"分钟 ",this.state.duration_seconds,"秒")),f.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))),!this.state.campagain_closed&&(0,h.default)()>=(0,h.default)(this.state.begin_time)&&!this.props.red_envelope.done_request&&f.default.createElement("div",{className:"main-section breath-top"},f.default.createElement("div",{className:"box"},f.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-red-envelope.png"}),f.default.createElement("div",{className:"box-content coupon"},this.state.sharer_name&&f.default.createElement("p",{className:"share-text"},"快来领取 ",this.state.sharer_name," 分享给您的2ccm春节红包吧！"),!this.state.sharer_name&&f.default.createElement("p",{className:"share-text"},"2ccm春节红包发放中，快来领取吧！"),f.default.createElement("div",{className:"wrapper"},f.default.createElement("div",{className:"country_code"},f.default.createElement("input",{type:"tel",onChange:this._formFieldUpdate,name:"country_code",value:this.state.country_code})),f.default.createElement("input",{type:"tel",placeholder:"请输入手机号码",className:"phone",onChange:this._formFieldUpdate,name:"phone_number",value:this.state.phone_number}),!this.state.is_collecting&&f.default.createElement("div",{className:"button",onClick:function(){return e._collectCoupon()}},"立即领取"),this.state.is_collecting&&f.default.createElement("div",{className:"button grey"},"领取中...")),this.state.format_error&&f.default.createElement("p",{className:"format-error"},"手机号码格式有误，请重新输入")),f.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))),this.props.red_envelope.done_request&&this.props.red_envelope.status_ok&&f.default.createElement("div",{className:"main-section result-message breath-top"},f.default.createElement("div",{className:"box"},f.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-red-envelope.png"}),f.default.createElement("div",{className:"box-content coupon"},f.default.createElement("p",{className:"title"},"恭喜您！"),f.default.createElement("p",{className:"value"},"您已经领取到『",this.state.sharer_name,"』分享的¥200优惠劵红包一枚，打开app，登录该手机号码绑定注册的账户查看您的优惠劵红包。"),f.default.createElement("a",{className:"goto-button",href:"https://www.2ccm.net/redirect"},"打开app查看")),f.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))),this.props.red_envelope.done_request&&this.props.red_envelope.status_error&&f.default.createElement("div",{className:"main-section result-message breath-top"},f.default.createElement("div",{className:"box"},f.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-red-envelope.png"}),f.default.createElement("div",{className:"box-content coupon"},f.default.createElement("p",{className:"title"},"已经领取过啦..."),f.default.createElement("p",{className:"value"},"您已成功领取过该红包，打开2ccm app，登录该手机号码绑定注册的账户查看您的优惠劵。"),f.default.createElement("a",{className:"goto-button",href:"https://www.2ccm.net/redirect"},"打开app查看")),f.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))),f.default.createElement(b.default,null))}}]),t}(l.Component);t.default=(0,d.connect)(s,c)(w)},641:function(e,t,n){(function(t,n){!function(t){"use strict";if("function"==typeof bootstrap)bootstrap("promise",t);else{e.exports=t()}}(function(){"use strict";function e(e){return function(){return $.apply(e,arguments)}}function r(e){return e===Object(e)}function o(e){return"[object StopIteration]"===re(e)||e instanceof X}function a(e,t){if(W&&t.stack&&"object"==typeof e&&null!==e&&e.stack){for(var n=[],r=t;r;r=r.source)r.stack&&(!e.__minimumStackCounter__||e.__minimumStackCounter__>r.stackCounter)&&(ee(e,"__minimumStackCounter__",{value:r.stackCounter,configurable:!0}),n.unshift(r.stack));n.unshift(e.stack);var o=n.join("\n"+oe+"\n"),a=i(o);ee(e,"stack",{value:a,configurable:!0})}}function i(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var o=t[r];u(o)||s(o)||!o||n.push(o)}return n.join("\n")}function s(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function c(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function u(e){var t=c(e);if(!t)return!1;var n=t[0],r=t[1];return n===B&&r>=V&&r<=le}function l(){if(W)try{throw new Error}catch(r){var e=r.stack.split("\n"),t=e[0].indexOf("@")>0?e[1]:e[2],n=c(t);if(!n)return;return B=n[0],n[1]}}function f(e){return e instanceof h?e:b(e)?O(e):N(e)}function p(){function e(e){t=e,f.longStackSupport&&W&&(a.source=e),G(n,function(t,n){f.nextTick(function(){e.promiseDispatch.apply(e,n)})},void 0),n=void 0,r=void 0}var t,n=[],r=[],o=Z(p.prototype),a=Z(h.prototype);if(a.promiseDispatch=function(e,o,a){var i=K(arguments);n?(n.push(i),"when"===o&&a[1]&&r.push(a[1])):f.nextTick(function(){t.promiseDispatch.apply(t,i)})},a.valueOf=function(){if(n)return a;var e=v(t);return _(e)&&(t=e),e},a.inspect=function(){return t?t.inspect():{state:"pending"}},f.longStackSupport&&W)try{throw new Error}catch(e){a.stack=e.stack.substring(e.stack.indexOf("\n")+1),a.stackCounter=ae++}return o.promise=a,o.resolve=function(n){t||e(f(n))},o.fulfill=function(n){t||e(N(n))},o.reject=function(n){t||e(T(n))},o.notify=function(e){t||G(r,function(t,n){f.nextTick(function(){n(e)})},void 0)},o}function d(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=p();try{e(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}return t.promise}function m(e){return d(function(t,n){for(var r=0,o=e.length;r<o;r++)f(e[r]).then(t,n)})}function h(e,t,n){void 0===t&&(t=function(e){return T(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=Z(h.prototype);if(r.promiseDispatch=function(n,o,a){var i;try{i=e[o]?e[o].apply(r,a):t.call(r,o,a)}catch(e){i=T(e)}n&&n(i)},r.inspect=n,n){var o=n();"rejected"===o.state&&(r.exception=o.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function y(e,t,n,r){return f(e).then(t,n,r)}function v(e){if(_(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function _(e){return e instanceof h}function b(e){return r(e)&&"function"==typeof e.then}function g(e){return _(e)&&"pending"===e.inspect().state}function E(e){return!_(e)||"fulfilled"===e.inspect().state}function w(e){return _(e)&&"rejected"===e.inspect().state}function x(){ie.length=0,se.length=0,ue||(ue=!0)}function j(e,n){ue&&("object"==typeof t&&"function"==typeof t.emit&&f.nextTick.runAfter(function(){-1!==J(se,e)&&(t.emit("unhandledRejection",n,e),ce.push(e))}),se.push(e),n&&void 0!==n.stack?ie.push(n.stack):ie.push("(no stack) "+n))}function k(e){if(ue){var n=J(se,e);-1!==n&&("object"==typeof t&&"function"==typeof t.emit&&f.nextTick.runAfter(function(){var r=J(ce,e);-1!==r&&(t.emit("rejectionHandled",ie[n],e),ce.splice(r,1))}),se.splice(n,1),ie.splice(n,1))}}function T(e){var t=h({when:function(t){return t&&k(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return j(t,e),t}function N(e){return h({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null===t||void 0===t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return ne(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function O(e){var t=p();return f.nextTick(function(){try{e.then(t.resolve,t.reject,t.notify)}catch(e){t.reject(e)}}),t.promise}function R(e){return h({isDef:function(){}},function(t,n){return H(e,t,n)},function(){return f(e).inspect()})}function C(e,t,n){return f(e).spread(t,n)}function A(e){return function(){function t(e,t){var i;if("undefined"==typeof StopIteration){try{i=n[e](t)}catch(e){return T(e)}return i.done?f(i.value):y(i.value,r,a)}try{i=n[e](t)}catch(e){return o(e)?f(e.value):T(e)}return y(i,r,a)}var n=e.apply(this,arguments),r=t.bind(t,"next"),a=t.bind(t,"throw");return r()}}function P(e){f.done(f.async(e)())}function q(e){throw new X(e)}function S(e){return function(){return C([this,I(arguments)],function(t,n){return e.apply(t,n)})}}function H(e,t,n){return f(e).dispatch(t,n)}function I(e){return y(e,function(e){var t=0,n=p();return G(e,function(r,o,a){var i;_(o)&&"fulfilled"===(i=o.inspect()).state?e[a]=i.value:(++t,y(o,function(r){e[a]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:a,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function F(e){if(0===e.length)return f.resolve();var t=f.defer(),n=0;return G(e,function(r,o,a){function i(e){t.resolve(e)}function s(e){if(0===--n){var r=e||new Error(""+e);r.message="Q can't get fulfillment value from any promise, all promises were rejected. Last error message: "+r.message,t.reject(r)}}function c(e){t.notify({index:a,value:e})}var u=e[a];n++,y(u,i,s,c)},void 0),t.promise}function M(e){return y(e,function(e){return e=Y(e,f),y(I(Y(e,function(e){return y(e,z,z)})),function(){return e})})}function D(e){return f(e).allSettled()}function U(e,t){return f(e).then(void 0,void 0,t)}function L(e,t){return f(e).nodeify(t)}var W=!1;try{throw new Error}catch(e){W=!!e.stack}var B,X,V=l(),z=function(){},Q=function(){function e(){for(var e,t;o.next;)o=o.next,e=o.task,o.task=void 0,t=o.domain,t&&(o.domain=void 0,t.enter()),r(e,t);for(;u.length;)e=u.pop(),r(e);i=!1}function r(t,n){try{t()}catch(t){if(c)throw n&&n.exit(),setTimeout(e,0),n&&n.enter(),t;setTimeout(function(){throw t},0)}n&&n.exit()}var o={task:void 0,next:null},a=o,i=!1,s=void 0,c=!1,u=[];if(Q=function(e){a=a.next={task:e,domain:c&&t.domain,next:null},i||(i=!0,s())},"object"==typeof t&&"[object process]"===t.toString()&&t.nextTick)c=!0,s=function(){t.nextTick(e)};else if("function"==typeof n)s="undefined"!=typeof window?n.bind(window,e):function(){n(e)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){s=f,l.port1.onmessage=e,e()};var f=function(){l.port2.postMessage(0)};s=function(){setTimeout(e,0),f()}}else s=function(){setTimeout(e,0)};return Q.runAfter=function(e){u.push(e),i||(i=!0,s())},Q}(),$=Function.call,K=e(Array.prototype.slice),G=e(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),J=e(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),Y=e(Array.prototype.map||function(e,t){var n=this,r=[];return G(n,function(o,a,i){r.push(e.call(t,a,i,n))},void 0),r}),Z=Object.create||function(e){function t(){}return t.prototype=e,new t},ee=Object.defineProperty||function(e,t,n){return e[t]=n.value,e},te=e(Object.prototype.hasOwnProperty),ne=Object.keys||function(e){var t=[];for(var n in e)te(e,n)&&t.push(n);return t},re=e(Object.prototype.toString);X="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var oe="From previous event:";f.resolve=f,f.nextTick=Q,f.longStackSupport=!1;var ae=1;"object"==typeof t&&t&&t.env&&t.env.Q_DEBUG&&(f.longStackSupport=!0),f.defer=p,p.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(K(arguments,1)):e.resolve(n)}},f.Promise=d,f.promise=d,d.race=m,d.all=I,d.reject=T,d.resolve=f,f.passByCopy=function(e){return e},h.prototype.passByCopy=function(){return this},f.join=function(e,t){return f(e).join(t)},h.prototype.join=function(e){return f([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Q can't join: not the same: "+e+" "+t)})},f.race=m,h.prototype.race=function(){return this.then(f.race)},f.makePromise=h,h.prototype.toString=function(){return"[object Promise]"},h.prototype.then=function(e,t,n){function r(t){try{return"function"==typeof e?e(t):t}catch(e){return T(e)}}function o(e){if("function"==typeof t){a(e,s);try{return t(e)}catch(e){return T(e)}}return T(e)}function i(e){return"function"==typeof n?n(e):e}var s=this,c=p(),u=!1;return f.nextTick(function(){s.promiseDispatch(function(e){u||(u=!0,c.resolve(r(e)))},"when",[function(e){u||(u=!0,c.resolve(o(e)))}])}),s.promiseDispatch(void 0,"when",[void 0,function(e){var t,n=!1;try{t=i(e)}catch(e){if(n=!0,!f.onerror)throw e;f.onerror(e)}n||c.notify(t)}]),c.promise},f.tap=function(e,t){return f(e).tap(t)},h.prototype.tap=function(e){return e=f(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},f.when=y,h.prototype.thenResolve=function(e){return this.then(function(){return e})},f.thenResolve=function(e,t){return f(e).thenResolve(t)},h.prototype.thenReject=function(e){return this.then(function(){throw e})},f.thenReject=function(e,t){return f(e).thenReject(t)},f.nearer=v,f.isPromise=_,f.isPromiseAlike=b,f.isPending=g,h.prototype.isPending=function(){return"pending"===this.inspect().state},f.isFulfilled=E,h.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},f.isRejected=w,h.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ie=[],se=[],ce=[],ue=!0;f.resetUnhandledRejections=x,f.getUnhandledReasons=function(){return ie.slice()},f.stopUnhandledRejectionTracking=function(){x(),ue=!1},x(),f.reject=T,f.fulfill=N,f.master=R,f.spread=C,h.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},f.async=A,f.spawn=P,f.return=q,f.promised=S,f.dispatch=H,h.prototype.dispatch=function(e,t){var n=this,r=p();return f.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},f.get=function(e,t){return f(e).dispatch("get",[t])},h.prototype.get=function(e){return this.dispatch("get",[e])},f.set=function(e,t,n){return f(e).dispatch("set",[t,n])},h.prototype.set=function(e,t){return this.dispatch("set",[e,t])},f.del=f.delete=function(e,t){return f(e).dispatch("delete",[t])},h.prototype.del=h.prototype.delete=function(e){return this.dispatch("delete",[e])},f.mapply=f.post=function(e,t,n){return f(e).dispatch("post",[t,n])},h.prototype.mapply=h.prototype.post=function(e,t){return this.dispatch("post",[e,t])},f.send=f.mcall=f.invoke=function(e,t){return f(e).dispatch("post",[t,K(arguments,2)])},h.prototype.send=h.prototype.mcall=h.prototype.invoke=function(e){return this.dispatch("post",[e,K(arguments,1)])},f.fapply=function(e,t){return f(e).dispatch("apply",[void 0,t])},h.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},f.try=f.fcall=function(e){return f(e).dispatch("apply",[void 0,K(arguments,1)])},h.prototype.fcall=function(){return this.dispatch("apply",[void 0,K(arguments)])},f.fbind=function(e){var t=f(e),n=K(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(K(arguments))])}},h.prototype.fbind=function(){var e=this,t=K(arguments);return function(){return e.dispatch("apply",[this,t.concat(K(arguments))])}},f.keys=function(e){return f(e).dispatch("keys",[])},h.prototype.keys=function(){return this.dispatch("keys",[])},f.all=I,h.prototype.all=function(){return I(this)},f.any=F,h.prototype.any=function(){return F(this)},f.allResolved=function(e,t,n){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t+" is deprecated, use "+n+" instead.",new Error("").stack),e.apply(e,arguments)}}(M,"allResolved","allSettled"),h.prototype.allResolved=function(){return M(this)},f.allSettled=D,h.prototype.allSettled=function(){return this.then(function(e){return I(Y(e,function(e){function t(){return e.inspect()}return e=f(e),e.then(t,t)}))})},f.fail=f.catch=function(e,t){return f(e).then(void 0,t)},h.prototype.fail=h.prototype.catch=function(e){return this.then(void 0,e)},f.progress=U,h.prototype.progress=function(e){return this.then(void 0,void 0,e)},f.fin=f.finally=function(e,t){return f(e).finally(t)},h.prototype.fin=h.prototype.finally=function(e){if(!e||"function"!=typeof e.apply)throw new Error("Q can't apply finally callback");return e=f(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},f.done=function(e,t,n,r){return f(e).done(t,n,r)},h.prototype.done=function(e,n,r){var o=function(e){f.nextTick(function(){if(a(e,i),!f.onerror)throw e;f.onerror(e)})},i=e||n||r?this.then(e,n,r):this;"object"==typeof t&&t&&t.domain&&(o=t.domain.bind(o)),i.then(void 0,o)},f.timeout=function(e,t,n){return f(e).timeout(t,n)},h.prototype.timeout=function(e,t){var n=p(),r=setTimeout(function(){t&&"string"!=typeof t||(t=new Error(t||"Timed out after "+e+" ms"),t.code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},f.delay=function(e,t){return void 0===t&&(t=e,e=void 0),f(e).delay(t)},h.prototype.delay=function(e){return this.then(function(t){var n=p();return setTimeout(function(){n.resolve(t)},e),n.promise})},f.nfapply=function(e,t){return f(e).nfapply(t)},h.prototype.nfapply=function(e){var t=p(),n=K(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},f.nfcall=function(e){var t=K(arguments,1);return f(e).nfapply(t)},h.prototype.nfcall=function(){var e=K(arguments),t=p();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},f.nfbind=f.denodeify=function(e){if(void 0===e)throw new Error("Q can't wrap an undefined function");var t=K(arguments,1);return function(){var n=t.concat(K(arguments)),r=p();return n.push(r.makeNodeResolver()),f(e).fapply(n).fail(r.reject),r.promise}},h.prototype.nfbind=h.prototype.denodeify=function(){var e=K(arguments);return e.unshift(this),f.denodeify.apply(void 0,e)},f.nbind=function(e,t){var n=K(arguments,2);return function(){function r(){return e.apply(t,arguments)}var o=n.concat(K(arguments)),a=p();return o.push(a.makeNodeResolver()),f(r).fapply(o).fail(a.reject),a.promise}},h.prototype.nbind=function(){var e=K(arguments,0);return e.unshift(this),f.nbind.apply(void 0,e)},f.nmapply=f.npost=function(e,t,n){return f(e).npost(t,n)},h.prototype.nmapply=h.prototype.npost=function(e,t){var n=K(t||[]),r=p();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},f.nsend=f.nmcall=f.ninvoke=function(e,t){var n=K(arguments,2),r=p();return n.push(r.makeNodeResolver()),f(e).dispatch("post",[t,n]).fail(r.reject),r.promise},h.prototype.nsend=h.prototype.nmcall=h.prototype.ninvoke=function(e){var t=K(arguments,1),n=p();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},f.nodeify=L,h.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){f.nextTick(function(){e(null,t)})},function(t){f.nextTick(function(){e(t)})})},f.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var le=l();return f})}).call(t,n(136),n(643).setImmediate)},643:function(e,t,n){(function(e){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(646),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(t,n(26))},645:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(641),s=r(i),c=n(647),u=r(c),l=function(){function e(){o(this,e)}return a(e,[{key:"post",value:function(e,t){var n=s.default.defer();return(0,u.default)({url:e,method:"POST",data:t,success:function(e){n.resolve(e)},error:function(e){n.reject(e)}}),n.promise}},{key:"put",value:function(e,t){var n=s.default.defer();return(0,u.default)({url:e,method:"PUT",data:t,success:function(e){n.resolve(e)},error:function(e){n.reject(e)}}),n.promise}},{key:"delete",value:function(e,t){var n=s.default.defer();return(0,u.default)({url:e,method:"DELETE",data:t,success:function(e){n.resolve(e)},error:function(e){n.reject(e)}}),n.promise}},{key:"get",value:function(e){var t=s.default.defer();return(0,u.default)({url:e,method:"GET",success:function(e){t.resolve(e)},error:function(e){t.reject(e)}}),t.promise}},{key:"getH",value:function(e,t){var n=s.default.defer();return(0,u.default)({url:t,method:"GET",headers:{Authorization:"Token token="+e},success:function(e){n.resolve(e)},error:function(e){n.reject(e)}}),n.promise}},{key:"postH",value:function(e,t,n){var r=s.default.defer();return(0,u.default)({url:t,method:"POST",headers:{Authorization:"Token token="+e},data:n,success:function(e){r.resolve(e)},error:function(e){r.reject(e)}}),r.promise}}]),e}();t.default=l},646:function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return u[c]=r,s(c),c++}function o(e){delete u[e]}function a(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function i(e){if(l)setTimeout(i,0,e);else{var t=u[e];if(t){l=!0;try{a(t)}finally{o(e),l=!1}}}}if(!e.setImmediate){var s,c=1,u={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?function(){s=function(e){t.nextTick(function(){i(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&i(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),s=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){i(e.data)},s=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;s=function(t){var n=f.createElement("script");n.onreadystatechange=function(){i(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){s=function(e){setTimeout(i,0,e)}}(),p.setImmediate=r,p.clearImmediate=o}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(26),n(136))},647:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(e,t,n){void 0!==module&&module.exports?module.exports=n():(__WEBPACK_AMD_DEFINE_FACTORY__=n,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(0,0,function(){function succeed(e){var t=protocolRe.exec(e.url);return t=t&&t[1]||context.location.protocol,httpsRe.test(t)?twoHundo.test(e.request.status):!!e.request.response}function handleReadyState(e,t,n){return function(){return e._aborted?n(e.request):e._timedOut?n(e.request,"Request is aborted: timeout"):void(e.request&&4==e.request[readyState]&&(e.request.onreadystatechange=noop,succeed(e)?t(e.request):n(e.request)))}}function setHeaders(e,t){var n,r=t.headers||{};r.Accept=r.Accept||defaultHeaders.accept[t.type]||defaultHeaders.accept["*"];var o="undefined"!=typeof FormData&&t.data instanceof FormData;t.crossOrigin||r[requestedWith]||(r[requestedWith]=defaultHeaders.requestedWith),r[contentType]||o||(r[contentType]=t.contentType||defaultHeaders.contentType);for(n in r)r.hasOwnProperty(n)&&"setRequestHeader"in e&&e.setRequestHeader(n,r[n])}function setCredentials(e,t){void 0!==t.withCredentials&&void 0!==e.withCredentials&&(e.withCredentials=!!t.withCredentials)}function generalCallback(e){lastValue=e}function urlappend(e,t){return e+(/\?/.test(e)?"&":"?")+t}function handleJsonp(e,t,n,r){var o=uniqid++,a=e.jsonpCallback||"callback",i=e.jsonpCallbackName||reqwest.getcallbackPrefix(o),s=new RegExp("((^|\\?|&)"+a+")=([^&]+)"),c=r.match(s),u=doc.createElement("script"),l=0,f=-1!==navigator.userAgent.indexOf("MSIE 10.0");return c?"?"===c[3]?r=r.replace(s,"$1="+i):i=c[3]:r=urlappend(r,a+"="+i),context[i]=generalCallback,u.type="text/javascript",u.src=r,u.async=!0,void 0===u.onreadystatechange||f||(u.htmlFor=u.id="_reqwest_"+o),u.onload=u.onreadystatechange=function(){if(u[readyState]&&"complete"!==u[readyState]&&"loaded"!==u[readyState]||l)return!1;u.onload=u.onreadystatechange=null,u.onclick&&u.onclick(),t(lastValue),lastValue=void 0,head.removeChild(u),l=1},head.appendChild(u),{abort:function(){u.onload=u.onreadystatechange=null,n({},"Request is aborted: timeout",{}),lastValue=void 0,head.removeChild(u),l=1}}}function getRequest(e,t){var n,r=this.o,o=(r.method||"GET").toUpperCase(),a="string"==typeof r?r:r.url,i=!1!==r.processData&&r.data&&"string"!=typeof r.data?reqwest.toQueryString(r.data):r.data||null,s=!1;return"jsonp"!=r.type&&"GET"!=o||!i||(a=urlappend(a,i),i=null),"jsonp"==r.type?handleJsonp(r,e,t,a):(n=r.xhr&&r.xhr(r)||xhr(r),n.open(o,a,!1!==r.async),setHeaders(n,r),setCredentials(n,r),context[xDomainRequest]&&n instanceof context[xDomainRequest]?(n.onload=e,n.onerror=t,n.onprogress=function(){},s=!0):n.onreadystatechange=handleReadyState(this,e,t),r.before&&r.before(n),s?setTimeout(function(){n.send(i)},200):n.send(i),n)}function Reqwest(e,t){this.o=e,this.fn=t,init.apply(this,arguments)}function setType(e){if(null!==e)return e.match("json")?"json":e.match("javascript")?"js":e.match("text")?"html":e.match("xml")?"xml":void 0}function init(o,fn){function complete(e){for(o.timeout&&clearTimeout(self.timeout),self.timeout=null;self._completeHandlers.length>0;)self._completeHandlers.shift()(e)}function success(resp){var type=o.type||resp&&setType(resp.getResponseHeader("Content-Type"));resp="jsonp"!==type?self.request:resp;var filteredResponse=globalSetupOptions.dataFilter(resp.responseText,type),r=filteredResponse;try{resp.responseText=r}catch(e){}if(r)switch(type){case"json":try{resp=context.JSON?context.JSON.parse(r):eval("("+r+")")}catch(e){return error(resp,"Could not parse JSON in response",e)}break;case"js":resp=eval(r);break;case"html":resp=r;break;case"xml":resp=resp.responseXML&&resp.responseXML.parseError&&resp.responseXML.parseError.errorCode&&resp.responseXML.parseError.reason?null:resp.responseXML}for(self._responseArgs.resp=resp,self._fulfilled=!0,fn(resp),self._successHandler(resp);self._fulfillmentHandlers.length>0;)resp=self._fulfillmentHandlers.shift()(resp);complete(resp)}function timedOut(){self._timedOut=!0,self.request.abort()}function error(e,t,n){for(e=self.request,self._responseArgs.resp=e,self._responseArgs.msg=t,self._responseArgs.t=n,self._erred=!0;self._errorHandlers.length>0;)self._errorHandlers.shift()(e,t,n);complete(e)}this.url="string"==typeof o?o:o.url,this.timeout=null,this._fulfilled=!1,this._successHandler=function(){},this._fulfillmentHandlers=[],this._errorHandlers=[],this._completeHandlers=[],this._erred=!1,this._responseArgs={};var self=this;fn=fn||function(){},o.timeout&&(this.timeout=setTimeout(function(){timedOut()},o.timeout)),o.success&&(this._successHandler=function(){o.success.apply(o,arguments)}),o.error&&this._errorHandlers.push(function(){o.error.apply(o,arguments)}),o.complete&&this._completeHandlers.push(function(){o.complete.apply(o,arguments)}),this.request=getRequest.call(this,success,error)}function reqwest(e,t){return new Reqwest(e,t)}function normalize(e){return e?e.replace(/\r?\n/g,"\r\n"):""}function serial(e,t){var n,r,o,a,i=e.name,s=e.tagName.toLowerCase(),c=function(e){e&&!e.disabled&&t(i,normalize(e.attributes.value&&e.attributes.value.specified?e.value:e.text))};if(!e.disabled&&i)switch(s){case"input":/reset|button|image|file/i.test(e.type)||(n=/checkbox/i.test(e.type),r=/radio/i.test(e.type),o=e.value,(!(n||r)||e.checked)&&t(i,normalize(n&&""===o?"on":o)));break;case"textarea":t(i,normalize(e.value));break;case"select":if("select-one"===e.type.toLowerCase())c(e.selectedIndex>=0?e.options[e.selectedIndex]:null);else for(a=0;e.length&&a<e.length;a++)e.options[a].selected&&c(e.options[a])}}function eachFormElement(){var e,t,n=this;for(t=0;t<arguments.length;t++)e=arguments[t],/input|select|textarea/i.test(e.tagName)&&serial(e,n),function(e,t){var r,o,a;for(r=0;r<t.length;r++)for(a=e[byTag](t[r]),o=0;o<a.length;o++)serial(a[o],n)}(e,["input","select","textarea"])}function serializeQueryString(){return reqwest.toQueryString(reqwest.serializeArray.apply(null,arguments))}function serializeHash(){var e={};return eachFormElement.apply(function(t,n){t in e?(e[t]&&!isArray(e[t])&&(e[t]=[e[t]]),e[t].push(n)):e[t]=n},arguments),e}function buildParams(e,t,n,r){var o,a,i,s=/\[\]$/;if(isArray(t))for(a=0;t&&a<t.length;a++)i=t[a],n||s.test(e)?r(e,i):buildParams(e+"["+("object"==typeof i?a:"")+"]",i,n,r);else if(t&&"[object Object]"===t.toString())for(o in t)buildParams(e+"["+o+"]",t[o],n,r);else r(e,t)}var context=this;if("window"in context)var doc=document,byTag="getElementsByTagName",head=doc[byTag]("head")[0];else{var XHR2;try{XHR2=__webpack_require__(648)}catch(e){throw new Error("Peer dependency `xhr2` required! Please npm install xhr2")}}var httpsRe=/^http/,protocolRe=/(^\w+):\/\//,twoHundo=/^(20\d|1223)$/,readyState="readyState",contentType="Content-Type",requestedWith="X-Requested-With",uniqid=0,callbackPrefix="reqwest_"+ +new Date,lastValue,xmlHttpRequest="XMLHttpRequest",xDomainRequest="XDomainRequest",noop=function(){},isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},defaultHeaders={contentType:"application/x-www-form-urlencoded",requestedWith:xmlHttpRequest,accept:{"*":"text/javascript, text/html, application/xml, text/xml, */*",xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript",js:"application/javascript, text/javascript"}},xhr=function(e){if(!0===e.crossOrigin){var t=context[xmlHttpRequest]?new XMLHttpRequest:null;if(t&&"withCredentials"in t)return t;if(context[xDomainRequest])return new XDomainRequest;throw new Error("Browser does not support cross-origin requests")}return context[xmlHttpRequest]?new XMLHttpRequest:XHR2?new XHR2:new ActiveXObject("Microsoft.XMLHTTP")},globalSetupOptions={dataFilter:function(e){return e}};return Reqwest.prototype={abort:function(){this._aborted=!0,this.request.abort()},retry:function(){init.call(this,this.o,this.fn)},then:function(e,t){return e=e||function(){},t=t||function(){},this._fulfilled?this._responseArgs.resp=e(this._responseArgs.resp):this._erred?t(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):(this._fulfillmentHandlers.push(e),this._errorHandlers.push(t)),this},always:function(e){return this._fulfilled||this._erred?e(this._responseArgs.resp):this._completeHandlers.push(e),this},fail:function(e){return this._erred?e(this._responseArgs.resp,this._responseArgs.msg,this._responseArgs.t):this._errorHandlers.push(e),this},catch:function(e){return this.fail(e)}},reqwest.serializeArray=function(){var e=[];return eachFormElement.apply(function(t,n){e.push({name:t,value:n})},arguments),e},reqwest.serialize=function(){if(0===arguments.length)return"";var e,t,n=Array.prototype.slice.call(arguments,0);return e=n.pop(),e&&e.nodeType&&n.push(e)&&(e=null),e&&(e=e.type),t="map"==e?serializeHash:"array"==e?reqwest.serializeArray:serializeQueryString,t.apply(null,n)},reqwest.toQueryString=function(e,t){var n,r,o=t||!1,a=[],i=encodeURIComponent,s=function(e,t){t="function"==typeof t?t():null==t?"":t,a[a.length]=i(e)+"="+i(t)};if(isArray(e))for(r=0;e&&r<e.length;r++)s(e[r].name,e[r].value);else for(n in e)e.hasOwnProperty(n)&&buildParams(n,e[n],o,s);return a.join("&").replace(/%20/g,"+")},reqwest.getcallbackPrefix=function(){return callbackPrefix},reqwest.compat=function(e,t){return e&&(e.type&&(e.method=e.type)&&delete e.type,e.dataType&&(e.type=e.dataType),e.jsonpCallback&&(e.jsonpCallbackName=e.jsonpCallback)&&delete e.jsonpCallback,e.jsonp&&(e.jsonpCallback=e.jsonp)),new Reqwest(e,t)},reqwest.ajaxSetup=function(e){e=e||{};for(var t in e)globalSetupOptions[t]=e[t]},reqwest})},648:function(e,t){},649:function(e,t,n){"use strict";function r(e,t){return s+"products/campaign.json?tag=double_eleven&page="+e+"&per_page="+t}function o(e,t){return s+"products/new-in.json?tag=double_eleven&page="+e+"&per_page="+t}Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_DOUBLE_ELEVEN_URL=r,t.FETCH_NEW_IN_PRODUCT_LIST_URL=o;var a="https://api.2ccm.net",i=t.HOST=a,s=t.BASE_URL=i+"/api/v1/";t.COLLECT_COUPON_WITH_PHONE_NUMBER=i+"/promos/award.json",t.FETCH_RECTIVE_COUPONS_URL=a+"/campaign/new_year/receive_coupons.json",t.FETCH_USER_COUPONS_EXTEND_CODE_URL=a+"/api/v1/promos/extend_code.json",t.FETCH_USER_YEAR_LIST_URL=a+"/campaign/new_year.json",t.GET_INVITATION_COUPONS_URL=a+"/campaign/new_year/invitation_receive_coupons.json",t.COLLECT_RED_ENVELOPE_WITH_PHONE_NUMBER=a+"/campaign/new_year/invitation_receive_coupons.json"},674:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),c=function(e){return e&&e.__esModule?e:{default:e}}(s),u=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"box"},c.default.createElement("img",{className:"box-title",src:"http://resources.2ccm.net/campaign/new-year/box-top-terms.png"}),c.default.createElement("div",{className:"box-content toc"},c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"1"),"活动有效期：2018年2月15日（除夕）晚上8点 - 2018年2月22日（初七）晚上零点；"),c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"2"),"活动内容：领取您的专属新年红包并分享给好友，当好友领取您的红包的同时，您也获得一个红包和现金返现；"),c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"3"),"领取的2ccm新年专属红包为无门槛立减200优惠劵，优惠劵有效期为90天，通过分享朋友而获得的红包无数量上限，多分享多获得；"),c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"4"),"朋友每领取一次您分享的红包，我们会随机返现1-10元现金至您的用户余额系统中，返现金额累加上限至200人民币，返现金额属于不可提现金额；"),c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"5"),"注册2ccm app的新老用户均可参与，以手机号码领取的优惠劵可以通过该手机号码注册的2ccm用户查看和使用；"),c.default.createElement("p",{className:"toc-item"},c.default.createElement("span",{className:"list-number"},"6"),"2ccm拥有活动最终解释权，祝大家新年快乐，狗富贵，莫相忘；")),c.default.createElement("img",{className:"box-bottom",src:"http://resources.2ccm.net/campaign/new-year/box-bottom.jpg"}))}}]),t}(s.Component);t.default=u},688:function(e,t,n){"use strict";function r(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}function o(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t)return void(r[e]=n);void 0===r[e]&&(r[e]={}),r[e][t[1]]=n};case"bracket":return function(e,n,r){return t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0===r[e]?void(r[e]=[n]):void(r[e]=[].concat(r[e],n)):void(r[e]=n)};default:return function(e,t,n){if(void 0===n[e])return void(n[e]=t);n[e]=[].concat(n[e],t)}}}function a(e,t){return t.encode?t.strict?s(e):encodeURIComponent(e):e}function i(e){return Array.isArray(e)?e.sort():"object"==typeof e?i(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}var s=n(689),c=n(5),u=n(690);t.extract=function(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)},t.parse=function(e,t){t=c({arrayFormat:"none"},t);var n=o(t),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:u(a),n(u(o),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=i(n):e[t]=n,e},Object.create(null))):r},t.stringify=function(e,t){t=c({encode:!0,strict:!0,arrayFormat:"none"},t),!1===t.sort&&(t.sort=function(){});var n=r(t);return e?Object.keys(e).sort(t.sort).map(function(r){var o=e[r];if(void 0===o)return"";if(null===o)return a(r,t);if(Array.isArray(o)){var i=[];return o.slice().forEach(function(e){void 0!==e&&i.push(n(r,e,i.length))}),i.join("&")}return a(r,t)+"="+a(o,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:this.parse(this.extract(e),t)}}},689:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},690:function(e,t,n){"use strict";function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),o=e.slice(t);return Array.prototype.concat.call([],r(n),r(o))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(i),n=1;n<t.length;n++)e=r(t,n).join(""),t=e.match(i);return e}}function a(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=s.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=s.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var c=a[i];e=e.replace(new RegExp(c,"g"),t[c])}return e}var i=new RegExp("%[a-f0-9]{2}","gi"),s=new RegExp("(%[a-f0-9]{2})+","gi");e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return a(e)}}},874:function(e,t,n){"use strict";function r(e,t){return function(n){s.default.collectCouponWithPhoneNumber(e,t).then(function(e){n({type:a.RECEIVED_RED_ENVELOPE})}).catch(function(e){n({type:a.ERROR_RED_ENVELOPE})})}}Object.defineProperty(t,"__esModule",{value:!0}),t.collectCouponWithPhoneNumber=r;var o=n(44),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=n(875),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},875:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(645),u=r(c),l=n(649),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),p=n(641),d=(r(p),function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return i(t,e),s(t,[{key:"collectCouponWithPhoneNumber",value:function(e,t){return this.post(f.COLLECT_RED_ENVELOPE_WITH_PHONE_NUMBER,{phone_number:e,extend_code:t})}}]),t}(u.default));t.default=new d}});